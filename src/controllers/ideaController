// src/controllers/ideaController.js
const Idea = require('../models/Idea');

// Cria nova ideia
async function createIdea(req, res) {
  try {
    const idea = new Idea(req.body);
    await idea.save();
    res.json(idea);
  } catch (err) {
    console.error(err);
    res.status(500).json({ error: 'Erro ao salvar ideia' });
  }
}

// Retorna todas as ideias
async function getAllIdeas() {
  return Idea.find().sort({ date: -1 });
}

module.exports = { createIdea, getAllIdeas };
